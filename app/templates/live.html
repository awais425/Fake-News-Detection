<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.2/css/all.css" integrity="sha384-/rXc/GQVaYpyDdyxK+ecHPVYJSN9bmVFBvjA/9eOB+pb3F2w2N6fc5qB9Ew5yIns" crossorigin="anonymous">
    <link href="./../static/css/styles.css" rel="stylesheet">
    <title>Fake News Detection</title>
   
</head>
<body>
    
  <nav class="navbar">
    <div class="logo_item">
      <i class="bx bx-menu" id="sidebarOpen"></i>
      Fake News Detection
    </div>

  

    <div class="navbar_content">
      <i class="bi bi-grid"></i>
      <i class='bx bx-sun' id="darkLight"></i>
      
    </div>
  </nav>

  <!-- sidebar -->
  <nav class="sidebar">
    <div class="menu_content">
      <ul class="menu_items">
        <div class="menu_title menu_dahsboard"></div>
        <li class="item">
          <a href="{{ url_for('home')}}" class="nav_link submenu_item">
            <span class="navlink_icon">
              <i class="bx bx-home-alt"></i>
            </span>
            <span class="navlink">Home</span>
          </a>
        </li>

        <!-- start -->
        <li class="item">
          <a href="{{ url_for('about')}}" class="nav_link submenu_item">
            <span class="navlink_icon">
              <i class="bx bx-grid-alt"></i>
            </span>
            <span class="navlink">About</span>
          </a>
        </li>
        <!-- end   -->
      </ul>

      <ul class="menu_items">
        <div class="menu_title menu_editor"></div>
        <li class="item">
          <a href="{{ url_for('login')}}" class="nav_link submenu_item">
            <span class="navlink_icon">
              <i class="bx bxs-magic-wand"></i>
            </span>
            <span class="navlink">Signup</span>
          </a>
        </li>
        <!-- End -->

        <li class="item">
          <a href="{{ url_for('register')}}" class="nav_link submenu_item">
            <span class="navlink_icon">
              <i class="bx bx-loader-circle"></i>
            </span>
            <span class="navlink">Login</span>
          </a>
        </li>
 
      </ul>

      <!-- Sidebar Open / Close -->
      <div class="bottom_content">
        <div class="bottom expand_sidebar">
          <span> Expand</span>
          <i class='bx bx-log-in' ></i>
        </div>
        <div class="bottom collapse_sidebar">
          <span> Collapse</span>
          <i class='bx bx-log-out'></i>
        </div>
      </div>
    </div>
  </nav>
    
  <section>
           <div class="liv-container">
              <h1 class="hero-title2">Where Fake News is Revealed</h1>
              <span class="subheading3">The article analyzer uses the web crawling technique to determine the news article as "Fake" or "Real". To use the analyzer, simply provide the article link or paste the link in given field</span>
              <br>
              <div class="form-group1"> <br>
          <label for="url" class="form-label2">Enter News Website URL</label>
          <input type="text" id="url" class="form-control2" placeholder="Enter URL">
      </div>
      <div class="checknews"><button id="checkNewsBtn" >Analyze</button>
      <div id="result">
        </div></div>
    </div>
  
      <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
      <script>
          $(document).ready(function() {
              $("#checkNewsBtn").on("click", function() {
                  let url = $("#url").val().trim();
  
                  if (!url) {
                      alert("Please enter a URL");
                      return;
                  }
  
                  // API call to check if news is fake or real
                  $.ajax({
                      url: "/api/v1/check_news",
                      method: "POST",
                      data: JSON.stringify({ "url": url }),
                      contentType: "application/json",
                      dataType: "json"
                  }).then(function(data) {
                      console.log(data);
  
                      let result = `<p>Prediction: ${data.prediction} </p><p>Message: ${data.message}</p>`;
                     

                      $("#result").html(result);
                  }).fail(function(jqXHR, textStatus, errorThrown) {
                      console.error("Error:", errorThrown);
                      alert("An error occurred while checking the news.");
                  });
              });
          });
      </script>
          </div>
        </div>
      </div>
    </div>
  </section>
  </div>
</div>  

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="./../static/js/app.js"></script>
  
    


   
</body>
</html>
